package uy

import "truco/pkg/truco"

const MAX_ENVIDO = 37

// Possible cards needed for an envido,
// indexed by the envido amount,
// mapped to a list of possible card number (Card.N)
//
//		1-7
//		f -> 10,11,12
//	 0x2a -> 2p
//	 0x4a -> 4p
//	 0x5a -> 5p
//	 0x1a -> 11p,10p
var ENVIDOS = map[uint8][][]uint8{
	0:  {{'f'}},
	1:  {{1}},
	2:  {{2}},
	3:  {{3}},
	4:  {{4}},
	5:  {{5}},
	6:  {{6}},
	7:  {{7}},
	20: {{'f', 'f'}},
	21: {{'f', 1}},
	22: {{'f', 2}},
	23: {{'f', 3}, {1, 2}},
	24: {{'f', 4}, {1, 3}},
	25: {{'f', 5}, {1, 4}, {2, 3}},
	26: {{'f', 6}, {1, 5}, {2, 4}},
	27: {{'f', 7}, {1, 6}, {2, 5}, {3, 4}, {0x1a}},
	28: {{1, 7}, {2, 6}, {3, 5}, {0x5a}, {0x1a, 1}},
	29: {{2, 7}, {3, 6}, {4, 5}, {0x4a}, {0x5a, 1}, {0x1a, 2}},
	30: {{3, 7}, {4, 6}, {0x2a}, {0x4a, 1}, {0x5a, 2}, {0x1a, 3}},
	31: {{4, 7}, {5, 6}, {0x2a, 1}, {0x4a, 2}, {0x5a, 3}, {0x1a, 4}},
	32: {{5, 7}, {0x2a, 2}, {0x4a, 3}, {0x5a, 4}, {0x1a, 5}},
	33: {{6, 7}, {0x2a, 3}, {0x4a, 4}, {0x5a, 5}, {0x1a, 6}},
	34: {{0x2a, 4}, {0x4a, 5}, {0x5a, 6}, {0x1a, 7}, {0x0a, 7}},
	35: {{0x2a, 5}, {0x4a, 6}, {0x5a, 7}},
	36: {{0x2a, 6}, {0x4a, 7}},
	37: {{0x2a, 7}},
}

// list of all figures
var FIGURES = []truco.Card{
	{10, 'e'}, {10, 'b'}, {10, 'o'}, {10, 'c'},
	{11, 'e'}, {11, 'b'}, {11, 'o'}, {11, 'c'},
	{12, 'e'}, {12, 'b'}, {12, 'o'}, {12, 'c'},
}

var PIEZAS = []truco.Card{
	{2, 'p'}, {4, 'p'}, {5, 'p'}, {11, 'p'}, {10, 'p'},
}

// envido each pieza card brings
var ENVIDO_PIEZA = map[truco.Card]uint8{
	{2, 'p'}:  10,
	{4, 'p'}:  9,
	{5, 'p'}:  8,
	{11, 'p'}: 7,
	{10, 'p'}: 7,
}

// RANKS =
// "2p",
// "4p",
// "5p",
// "11p",
// "10p",
// "1e",
// "1b",
// "7e",
// "7o",
// "3",
// "2",
// "1f",
// "12",
// "11",
// "10",
// "7f",
// "6",
// "5",
// "4"
