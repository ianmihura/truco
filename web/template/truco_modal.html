{{ define "truco_modal" }}
<div id="truco-modal"
    class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-200">
    <div
        class="bg-slate-800 border border-slate-700 rounded-xl shadow-2xl max-w-sm w-full overflow-hidden transform animate-in zoom-in-95 duration-200">
        <div class="px-6 py-4 border-b border-slate-700 bg-slate-800/50">
            <h3 class="text-xl font-bold text-white flex items-center gap-3">
                <span class="text-blue-400">⚡</span>
                {{ .Action }}
            </h3>
        </div>

        <div class="p-6 text-slate-300">
            <p class="text-sm leading-relaxed">
                El <span class="text-white font-semibold">Jugador {{ .Player }}</span> está cantando <span
                    class="text-blue-400 font-bold">{{ .Action }}</span>.
                ¿Qué deseas hacer?
            </p>
        </div>

        <div class="px-6 py-4 bg-slate-900/50 flex gap-3">
            <button hx-get="/track-act?action=Quiero&state={{ .State }}" hx-target="#current-action" hx-swap="outerHTML"
                hx-on:click="document.getElementById('truco-modal').remove()"
                class="flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition-colors shadow-lg shadow-blue-500/20 active:scale-95 duration-100">
                QUIERO
            </button>
            <button hx-get="/track-act?action=No quiero&state={{ .State }}" hx-target="#tracker-grid"
                hx-swap="beforeend"
                hx-on:click="const cur = document.getElementById('current-action'); if(cur) { cur.classList.add('pointer-events-none', 'opacity-60'); cur.id=''; } document.getElementById('truco-modal').remove()"
                class="flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 font-bold rounded-lg transition-colors active:scale-95 duration-100">
                NO QUIERO
            </button>
        </div>
    </div>
</div>
{{ end }}