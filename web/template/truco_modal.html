{{ define "truco_modal" }}
<div id="truco-dropdown"
    class="absolute left-full top-0 ml-2 z-[100] bg-slate-800 border-2 border-blue-500 rounded-lg shadow-2xl p-3 w-fit min-w-[140px] animate-in fade-in slide-in-from-left-2 duration-200"
    onclick="event.stopPropagation()">
    <div
        class="text-[10px] text-slate-400 uppercase font-extrabold tracking-widest mb-2 px-1 flex items-center gap-1.5 overflow-hidden whitespace-nowrap">
        {{ .Action }}
    </div>
    <div class="flex flex-col gap-1">
        <button hx-get="/track-act?action=Quiero&state={{ .State }}" hx-target="#current-action" hx-swap="outerHTML"
            hx-on:click="this.closest('#truco-dropdown').remove()"
            class="w-full text-left px-3 py-1.5 text-[11px] bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 font-bold rounded transition-colors active:scale-95 duration-75">
            QUIERO
        </button>
        <button hx-get="/track-act?action=No quiero&state={{ .State }}" hx-target="#tracker-grid" hx-swap="beforeend"
            hx-on:click="const cur = document.getElementById('current-action'); if(cur) { cur.classList.add('pointer-events-none', 'opacity-60'); cur.id=''; } this.closest('#truco-dropdown').remove()"
            class="w-full text-left px-3 py-1.5 text-[11px] bg-slate-700/50 hover:bg-slate-700/80 text-slate-300 font-bold rounded transition-colors active:scale-95 duration-75">
            NO QUIERO
        </button>
    </div>
</div>
{{ end }}